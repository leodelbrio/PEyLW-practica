<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!--
Design by Free CSS Templates
http://www.freecsstemplates.org
Released for free under a Creative Commons Attribution 2.5 License
-->
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Parcial JS </title>
    <link href="default.css" rel="stylesheet" type="text/css" />

    <script>


        // COMPLETE ESTA SECCIÓN CON LA RESOLUCION


    </script>


</head>

<body>
    <div id="header">
        <div id="logo" style="margin-left: 15px">
            <h1><a href="#">Programación Estática y Laboratorio Web</a></h1>
            <h2><a href="#">Recuperatorio JS Ejercicio 1</a></h2>
        </div>
    </div>
    <div id="menu">
        <ul>
            <li><a href="Ej1_Consigna.html">Consigna</a></li>
            <li><a href="Ej1_Resolucion.html">HOJA Ejercicio</a></li>
        </ul>
    </div>
    <div id="content">



      <div class="square" id="slot1">0</div>
      <div class="square" id="slot2">0</div>
      <div class="square" id="slot3">0</div>
      
      <br/>
      <button class="button">Jugar</button>      
      <br/>
      <br/><br/>
      <br/><br/>


      Saldo Restante $:
      <div id="saldoRestante" style="font-size: 48px;background-color: lightgreen; border: 1px solid black;padding: 10px;">
        50000
      </div>

      <br>

      Ultimo Resultado:
        <div id="ultimoResultado" style="font-size: 48px;background-color: lightblue; border: 1px solid black;padding: 10px;">
          ¡Empiece a jugar!
        </div>
        <br />

   
        <br />





        </div>


        </table>

    </div>
    <div id="footer" style="margin-top: 240px;">
        <p id="legal">Copyright &copy; AtomoHost. All Rights Reserved.
            Designed by <a href="http://www.freecsstemplates.org/">Free CSS
                Templates</a>.</p>
        <p id="links"><a href="#">Privacy Policy</a> | <a href="#">Terms
                of Use</a></p>
    </div>
    <br />
    <br />
</body>

<script>
    document.addEventListener("DOMContentLoaded", function(){
        let botonJugar = document.querySelector("#content .button");
        let slots = document.querySelectorAll(".square");
        let saldoDiv = document.getElementById("saldoRestante");
        let ultimoResultado = document.getElementById("ultimoResultado");


        
        // Cuando se presione el botón de "Jugar" debe ocurrir lo siguiente
        botonJugar.addEventListener("click", function(){


            // if (parseInt(saldoDiv.innerText) > 0) {

                // para la próxima jugada resetee los colores del fondo de los slots
                resetearFondo();

                // En slot1, slot2 y slot3 deben aparecer automáticamente tres números aleatorios entre el 0 y el 9
                slots.forEach(slot => {
                    numeroAleatorio(slot);
                });


                let slot1 = document.getElementById("slot1").innerText;
                let slot2 = document.getElementById("slot2").innerText;
                let slot3 = document.getElementById("slot3").innerText;

                // Si los tres son distintos entre si
                if (slot1 != slot2 && slot2 != slot3 && slot1 != slot3) {
                    // se restan 4.000 dólares del saldo
                    nuevoSaldo = parseInt(saldoDiv.innerText) - 4000;
                    if (nuevoSaldo > 0){
                        saldoDiv.innerText = nuevoSaldo;
                        // en ultimoResultado debe decir "Ud. Perdió 4.000"
                        ultimoResultado.innerText = "Ud. Perdió 4.000";

                    } else{
                        saldoDiv.innerText = 0;
                        ultimoResultado.innerText = "Lo perdiste TODO. Andá a estudiar para el parcial mejor.";
                        botonJugar.disabled = true;
                        botonJugar.innerText = "A casa";
                        botonJugar.style.backgroundColor = "gray";
                        botonJugar.style.cursor = "default";
                    }
                    
                    // Si hay dos iguales (en cualquier combinacion)
                } else if (slot1 == slot2 && slot1 != slot3 || slot2 == slot3  && slot1 != slot3|| slot1 == slot3 && slot1 != slot2) {
                    // se suman 8.000 dólares al saldo
                    saldoDiv.innerText = parseInt(saldoDiv.innerText) + 8000;
                    // se pintan los iguales del mismo color de fondo celeste claro
                    if (slot1 == slot2) {
                        slots[0].style.backgroundColor = "lightblue";
                        slots[1].style.backgroundColor = "lightblue";
                    } else if (slot2 == slot3) {
                        slots[1].style.backgroundColor = "lightblue";
                        slots[2].style.backgroundColor = "lightblue";
                    } else if (slot1 == slot3) {
                        slots[0].style.backgroundColor = "lightblue";
                        slots[2].style.backgroundColor = "lightblue";
                    }
                    // en ultimoResultado debe decir "Ud. ganó 8.000"
                    ultimoResultado.innerText = "Ud ganó 8.000";
                    // Si los tres son iguales
                } else if (slot1 == slot2 && slot1 == slot3) {
                    // se pintan los tres de color verde claro
                    slots.forEach(slot => {
                        slot.style.backgroundColor = "lightgreen";
                    });
                    // se suman 40.000 dólares al saldo
                    saldoDiv.innerText = parseInt(saldoDiv.innerText) + 40000;
                    // en ultimoResultado debe decir "JACKPOT!!!"
                    ultimoResultado.innerText = "JACKPOT!!!";
                }

            // } else {
            //     ultimoResultado.innerText = "Lo perdiste TODO. Andá a estudiar para el parcial mejor.";
            //     botonJugar.disabled = true;
            // }
        })
        
    });


    function numeroAleatorio(div){
        div.innerText = '';
        div.innerText = Math.floor(Math.random() * 10);
    }

    function resetearFondo(){
        let slots = document.querySelectorAll(".square");
        slots.forEach(slot => {
            slot.style.backgroundColor = '';
        });
    }

</script>

</html>